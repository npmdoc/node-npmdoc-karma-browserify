<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/nikku/karma-browserify#readme"

    >karma-browserify (v5.1.1)</a>
</h1>
<h4>A fast browserify integration for Karma that handles large projects with ease</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.karma-browserify">module karma-browserify</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.karma-browserify.bundle_file">
            function <span class="apidocSignatureSpan">karma-browserify.</span>bundle_file
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">karma-browserify.</span>bro</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">karma-browserify.</span>preprocess</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">karma-browserify.</span>preprocessor</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.karma-browserify.bro">module karma-browserify.bro</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.karma-browserify.bro.1">
            function <span class="apidocSignatureSpan">karma-browserify.bro.</span>1
            <span class="apidocSignatureSpan">(bundleFile)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">karma-browserify.bro.</span>0</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.karma-browserify.bundle_file">module karma-browserify.bundle_file</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.karma-browserify.bundle_file.bundle_file">
            function <span class="apidocSignatureSpan">karma-browserify.</span>bundle_file
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.karma-browserify.bundle_file.getTempFileName">
            function <span class="apidocSignatureSpan">karma-browserify.bundle_file.</span>getTempFileName
            <span class="apidocSignatureSpan">(suffix)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.karma-browserify.preprocess">module karma-browserify.preprocess</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.karma-browserify.preprocess.1">
            function <span class="apidocSignatureSpan">karma-browserify.preprocess.</span>1
            <span class="apidocSignatureSpan">(config, basePath, injector)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">karma-browserify.preprocess.</span>0</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.karma-browserify.preprocessor">module karma-browserify.preprocessor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.karma-browserify.preprocessor.createPreprocessor">
            function <span class="apidocSignatureSpan">karma-browserify.preprocessor.</span>createPreprocessor
            <span class="apidocSignatureSpan">(config, basePath, injector)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.karma-browserify" id="apidoc.module.karma-browserify">module karma-browserify</a></h1>


    <h2>
        <a href="#apidoc.element.karma-browserify.bundle_file" id="apidoc.element.karma-browserify.bundle_file">
        function <span class="apidocSignatureSpan">karma-browserify.</span>bundle_file
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BundleFile() {

  var location = getTempFileName(&#x27;.browserify&#x27;);

  function write(content) {
    fs.writeFileSync(location, content);
  }

  function exists() {
    return fs.existsSync(location);
  }

  function remove() {
    if (exists()) {
      fs.unlinkSync(location);
    }
  }

  function touch() {
    if (!exists()) {
      write(&#x27;&#x27;);
    }
  }


  // API

  this.touch = touch;

  this.update = write;
  this.remove = remove;

  this.location = location;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.karma-browserify.bro" id="apidoc.module.karma-browserify.bro">module karma-browserify.bro</a></h1>


    <h2>
        <a href="#apidoc.element.karma-browserify.bro.1" id="apidoc.element.karma-browserify.bro.1">
        function <span class="apidocSignatureSpan">karma-browserify.bro.</span>1
        <span class="apidocSignatureSpan">(bundleFile)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Bro(bundleFile) {

  var log;

<span class="apidocCodeCommentSpan">  /**
   * Add bundle file to the list of files in the
   * configuration, right before the first browserified
   * test file and after everything else.
   *
   * That makes sure users can include non-commonJS files
   * prior to the browserified bundle.
   *
   * @param {BundleFile} bundleFile the file containing the browserify bundle
   * @param {Object} config the karma configuration to be updated
   */
</span>  function addBundleFile(bundleFile, config) {

    var files = config.files,
        preprocessors = config.preprocessors;

    // list of patterns using our preprocessor
    var patterns = reduce(preprocessors, function(matched, val, key) {
      if (val.indexOf(&#x27;browserify&#x27;) !== -1) {
        matched.push(key);
      }
      return matched;
    }, []);

    // first file being preprocessed
    var file = find(files, function(f) {
      return any(patterns, function(p) {
        return minimatch(f.pattern, p);
      });
    });

    var idx = 0;

    if (file) {
      idx = files.indexOf(file);
    } else {
      log.debug(&#x27;no matching preprocessed file was found, defaulting to prepend&#x27;);
    }

    log.debug(&#x27;add bundle to config.files at position&#x27;, idx);

    // insert bundle on the correct spot
    files.splice(idx, 0, {
      pattern: bundleFile.location,
      served: true,
      included: true,
      watched: true
    });
  }


  /**
   * The browserify instance that creates the
   * minified bundle and gets added all test files to it.
   */
  var b;


  /**
   * The browserify framework that creates the initial logger and bundle file
   * as well as prepends the bundle file to the karma file configuration.
   */
  function framework(emitter, config, logger) {

    log = logger.create(&#x27;framework.browserify&#x27;);

    if (!bundleFile) {
      bundleFile = new BundleFile();
    }

    bundleFile.touch();
    log.debug(&#x27;created browserify bundle: %s&#x27;, bundleFile.location);

    b = createBundle(config);

    // TODO(Nikku): hook into karma karmas file update facilities
    // to remove files from the bundle once karma detects the deletion

    // hook into exit for cleanup
    emitter.on(&#x27;exit&#x27;, function(done) {
      log.debug(&#x27;cleaning up&#x27;);

      if (b.close) {
        b.close();
      }

      bundleFile.remove();
      done();
    });


    // add bundle file to the list of files defined in the
    // configuration. be smart by doing so.
    addBundleFile(bundleFile, config);

    return b;
  }

  framework.$inject = [ &#x27;emitter&#x27;, &#x27;config&#x27;, &#x27;logger&#x27; ];


  /**
   * Create the browserify bundle
   */
  function createBundle(config) {

    var bopts = config.browserify || {},
        bundleDelay = bopts.bundleDelay || DEFAULT_BUNDLE_DELAY,
        requireName = bopts.externalRequireName || &#x27;require&#x27;;

    function warn(key) {
      log.warn(&#x27;Invalid config option: &#x22;&#x27; + key + &#x27;s&#x22; should be &#x22;&#x27; + key + &#x27;&#x22;&#x27;);
    }

    forEach([ &#x27;transform&#x27;, &#x27;plugin&#x27; ], function(key) {
      if (bopts[key + &#x27;s&#x27;]) {
        warn(key);
      }
    });

    var browserifyOptions = assign({
      basedir: path.resolve(config.basePath),
      // watchify.args
      cache: {},
      packageCache: {}
    }, omit(bopts, [
      &#x27;transform&#x27;, &#x27;plugin&#x27;, &#x27;configure&#x27;, &#x27;bundleDelay&#x27;
    ]));

    if (&#x27;prebundle&#x27; in browserifyOptions) {
      log.warn(&#x27;The prebundle hook got removed in favor of configure&#x27;);
    }

    if (&#x27;watchify&#x27; in browserifyOptions) {
      log.warn(&#x27;Configure watchify via config.watchify&#x27;);
    }

    var w = browserify(browserifyOptions);
    w.setMaxListeners(Infinity);

    forEach(bopts.plugin, function(p) {
      // ensure we can pass plugin options as
      // the first parameter
      if (!Array.isArray(p)) {
        p = [ p ];
      }
      w.plugin.apply(w, p);
    });

    forEach(bopts.transform, function(t) {
      // ensure we can pass transform options as
      // the first parameter
      if (!Array.isArray(t)) {
        t = [ t ];
      }
      w.transform.apply(w, t);
    });

    // test if we have a configure function
    if (bopts.configure &#x26;&#x26; typeof bopts.configure ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.karma-browserify.bundle_file" id="apidoc.module.karma-browserify.bundle_file">module karma-browserify.bundle_file</a></h1>


    <h2>
        <a href="#apidoc.element.karma-browserify.bundle_file.bundle_file" id="apidoc.element.karma-browserify.bundle_file.bundle_file">
        function <span class="apidocSignatureSpan">karma-browserify.</span>bundle_file
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BundleFile() {

  var location = getTempFileName(&#x27;.browserify&#x27;);

  function write(content) {
    fs.writeFileSync(location, content);
  }

  function exists() {
    return fs.existsSync(location);
  }

  function remove() {
    if (exists()) {
      fs.unlinkSync(location);
    }
  }

  function touch() {
    if (!exists()) {
      write(&#x27;&#x27;);
    }
  }


  // API

  this.touch = touch;

  this.update = write;
  this.remove = remove;

  this.location = location;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.karma-browserify.bundle_file.getTempFileName" id="apidoc.element.karma-browserify.bundle_file.getTempFileName">
        function <span class="apidocSignatureSpan">karma-browserify.bundle_file.</span>getTempFileName
        <span class="apidocSignatureSpan">(suffix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getTempFileName(suffix) {
  return path.join(os.tmpdir(), hat() + suffix);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.karma-browserify.preprocess" id="apidoc.module.karma-browserify.preprocess">module karma-browserify.preprocess</a></h1>


    <h2>
        <a href="#apidoc.element.karma-browserify.preprocess.1" id="apidoc.element.karma-browserify.preprocess.1">
        function <span class="apidocSignatureSpan">karma-browserify.preprocess.</span>1
        <span class="apidocSignatureSpan">(config, basePath, injector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">1 = function (config, basePath, injector) {

  // add our preprocessor for .browserify files
  config[path.resolve(os.tmpdir(), &#x27;*.browserify&#x27;)] = [&#x27;browserify-bundle&#x27;];

  return originalFactory(config, basePath, injector);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.karma-browserify.preprocessor" id="apidoc.module.karma-browserify.preprocessor">module karma-browserify.preprocessor</a></h1>


    <h2>
        <a href="#apidoc.element.karma-browserify.preprocessor.createPreprocessor" id="apidoc.element.karma-browserify.preprocessor.createPreprocessor">
        function <span class="apidocSignatureSpan">karma-browserify.preprocessor.</span>createPreprocessor
        <span class="apidocSignatureSpan">(config, basePath, injector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createPreprocessor = function (config, basePath, injector) {

  // add our preprocessor for .browserify files
  config[path.resolve(os.tmpdir(), &#x27;*.browserify&#x27;)] = [&#x27;browserify-bundle&#x27;];

  return originalFactory(config, basePath, injector);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
